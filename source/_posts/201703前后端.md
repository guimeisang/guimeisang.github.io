---
title: 201703前后端
date: 2017-03-28 12:46:38
tags: 前后端分离问题总结
---
#### 情景模式： 
很多次和后端调参的时候，发现自己效率很低，这个问题导致了自己没什么时间去调试和优化自己的前端代码，每次上线前都基本上没有精力去做代码优化。  

#### 先给自己提几个问题吧
- 是业务不太熟悉，或者是在脑海中没有形成业务闭环；
- 传参错误的次数好像还是很多，为什么会这么多，怎么减少？  
- 前后端调试，如果是我能学会测试的技能，就可以提高一部分调试的准确性，可以在通知后端之前就把错误定位好
- 前期我真正需要向后端知道的数据是什么？
- 前期需要准备什么才能顺利开展工作，中期如何克制自己的情绪才能稳定对接，后期如何鼓励自己优化代码；这些都是自己的不足之处  

<!--more-->

#### 先给出怎么样才能不需要强依赖后端去为我们造数据  
1. 先举个例子：    
在制作列表页面的交互的时候，页面都是依赖于数据进行展示的，   
![image](http://oi9n0t0p1.bkt.clouddn.com/list.png)
列表中的资源是有不同的状态，里面的不同的状态来显示不同的交互已经页面，所以在有强依赖于业务逻辑，并且后端此时没有时间去帮助造数据。 这个是需要造数据。   
![image](http://oi9n0t0p1.bkt.clouddn.com/list_data.png)
这是一个json格式的数据，也就是仿照后端返回的数据结构来写的，然后通过改里面的数据来控制状态，从而显示不同的交互。    
![image](http://oi9n0t0p1.bkt.clouddn.com/list_data_set.png)
然后在fiddler里面设置规则，监听如果是跳去这个接口的时候则更换返回的json数据即可，这样的话，这样就可以自动的造数据，造我们需要的数据   
![image](http://oi9n0t0p1.bkt.clouddn.com/list_finished.png)
这样就可以有我们想要的假数据，这就完全能够满足我们写样式时的需求了。  

**总结： 这个方法，需要后端不仅要给出接口，还要给出这个接口对应的数据结构。**   


#### 怎么去理解后端接口的问题
- 首先，前端需要的数据，可以分类，一种是前端展示的数据，这种是没那么重要的参数。再次就是用来交互，业务做为判断条件的参数。这些至关重要。  接到一个业务的时候，首先应该考量的是那些业务我是需要后端传参过来我才能判断的交互，或者说业务逻辑   
- 其次的话，就是后端需要的数据。首先前端接到一个业务的时候，先判断的是字段之间关系，理清了关系之后再写代码，评估数据结构的关系，再次得是显示的字段（这是最为其次的东西），后端的接口，为什么需要前端传参，因为后端需要前端的传参，来作为判断条件，所以参数一定不要出问题   


#### 怎么定位问题  
当出现一个系统异常的时候，可以看后端的日志，来判断是前端传参错误还是后端的错误。   
当然也可以通过去前端服务器看错误日志：  
先连接服务器————> cd /usr/local/run/tomcat-test/logs/quetion-logs   
然后在这个文件夹中，打开tail -f springmvc.2017-03-01.log 就可以查看一波到底是前端的问题，还是后端的问题。

现在后端的接口调错工具
命令： less catalina-daemon.out 
位置： /data/tomcat-dev/logs