---
title: 移动端打印调试介绍
date: 2017-04-08 18:08:28
tags: 移动端 调试
---

### 移动端打印调试介绍-debug.js

在移动端，js调试。alert的手段在简单的调试中还是蛮有效的，但是alert会将输出的对象toString()方法，这样有些对象alert就会有"[object object]"的字样。还有另外一个方法就是debug.js。   
debug.js会将调试信息显示在网页上，其实原理也十分简单，就是动态的创建DOM元素，然后append到页面上。  
使用方法很简单，现在页面上引入debug.js，然后用它的debug.log API，跟console.log用法一样一样的。  

<!--more-->

```
<iframe src='http://www.cnblogs.com' style='width:100%; height:100%'> </iframe>
<script src="debug.min.js"></script>
<script>
  var a = {name: 'hanzichi', age: 10};
  debug.log(a);

  var b = [1, 2, 3];
  debug.log(b);
</script>
```
![image](http://oi9n0t0p1.bkt.clouddn.com/blog/201704/jsdebug3.png)
触碰下调试信息，它就会隐藏掉。  

[debug.js Github](https://github.com/binnng/debug.js)  
[DEBUG.COFFEE](http://binnng.github.io/debug.js/docs/debug.html)   

> 使用fiddler代理调试本地手机页面   

在调试移动端页面上时，虽然90%的功能都能用chrome下的模拟器来模拟解决，但是剩余的10%却只能在真机上调试。比如一两个像素的误差，比如说只有真机上才能重现一些bug，所以用fiddler来调试本地页面。  

1. 首先就是安装fiddler，然后按照下图进行配置fiddler：  
![image](http://oi9n0t0p1.bkt.clouddn.com/blog/201704/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E8%B0%83%E8%AF%951.png)   

2. 其次在手机上长按wifi，按照下图进行配置：  
![image](http://oi9n0t0p1.bkt.clouddn.com/blog/201704/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E8%B0%83%E8%AF%952.png)  

3. 调试：  
> 接下来就可以用手机浏览器调试本地页面了，但是还是有几点要注意：  
 -  在本地搭建好服务器后，不能用 localhost 在移动端进行访问，也不能用 127.0.0.1。可以随便绑定一个地址，比如 127.0.0.1 www.cnblogs.com（hosts 文件中，如果之前修改了 vhosts 文件，那么 vhosts 文件也要一并修改）  
 -  我手机上有 4 个浏览器，uc、chrome、2345以及百度，前三个都能得到预想的结果，但是百度浏览器不知道为何却不能重定向。有时候不行的话或者可以试试别的浏览器，对我而言一个浏览器能出结果就已经 ok 了。  
 -  如果浏览器安装了代理插件，禁用代理插件或改为系统代理，否则 fiddler 捕捉不到请求  
![image](http://oi9n0t0p1.bkt.clouddn.com/blog/201704/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E8%B0%83%E8%AF%953.png)
